<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>后台管理系统</title>
  <?php include('./views/common/style.html'); ?>
</head>
<body>

<!-- 侧边栏 -->
<?php include('./views/common/aside.html'); ?>
<!-- 主体 -->
<div class="main">
  <div class="container-fluid">
    <!-- 头部 -->
    <?php include('./views/common/header.html'); ?>
    <div class="body course-category">
      <ol class="breadcrumb">
        <li><a href="javascript:;">课程管理</a></li>
        <li class="active">课程分类</li>
      </ol>
      <div class="page-title">
        <a href="/category/add" class="btn btn-success btn-sm pull-right" id="addBtn">添加分类</a>
      </div>
      <div class="panel panel-default">
        <table class="table table-bordered">
          <thead>
          <tr>
            <th width="18%">分类名称</th>
            <th>课程数量</th>
            <th>是否显示</th>
            <th>排序</th>
            <th width="10%">操作</th>
          </tr>
          </thead>
          <tbody id="categoryInfo">
          <!-- 模板渲染 -->
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
<script type="text/template" id="categoryTpl">
  {{each list}}
  <tr {{ if $value.cg_pid== 0 }} class="active" {{ /if }}>
  {{ if $value.cg_pid != 0 }}
  <td class="text-left">&nbsp;&nbsp;├ {{$value.cg_name}}</td>
  {{ else }}
  <td class="text-left">{{$value.cg_name}}</td>
  {{ /if }}
  <td>{{$value.cg_order}}</td>
  {{ if $value.cg_is_hide }}
  <td>否</td>
  {{ else }}
  <td>是</td>
  {{ /if }}
  <td>10</td>
  <td>
    <a {{ if $value.cg_pid == 0 }}disabled {{ /if }} href="/category/add?cg_id={{$value.cg_id}}" class="btn btn-info btn-xs" id="editBtn">编辑</a>
  </td>
  </tr>
  {{/each}}
</script>
<?php include('./views/common/script.html'); ?>
<script>
  require(['categorylist'])
</script>
</body>
</html>